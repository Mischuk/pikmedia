$(function(){function e(){var e={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var i=0;i<e.length;i++){var o=e[i].string;if(this.versionSearchString=e[i].subString,o.indexOf(e[i].subString)!==-1)return e[i].identity}},searchVersion:function(e){var i=e.indexOf(this.versionSearchString);if(i!==-1){var o=e.indexOf("rv:");return"Trident"===this.versionSearchString&&o!==-1?parseFloat(e.substring(o+3)):parseFloat(e.substring(i+this.versionSearchString.length+1))}},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}]};e.init(),"Explorer"==e.browser&&$("html").addClass("IE")}function i(){$(".mask-date").mask("99.99.9999",{placeholder:"__.__.____"}),$(".mask-year").mask("9999",{placeholder:""}),$(".mask-tel").mask("+7 (999) 999-99-99")}function o(){$(".client-carousel").slick({infinite:!0,slidesToShow:4,slidesToScroll:4,arrows:!0,dots:!0,responsive:[{breakpoint:1100,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:568,settings:{slidesToShow:1,slidesToScroll:1}}]}),$(".partners-carousel").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,arrows:!0,dots:!0,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:568,settings:{slidesToShow:1,slidesToScroll:1}}]})}function s(){$(".facts-carousel").slick({infinite:!0,slidesToShow:3,slidesToScroll:3,arrows:!1,dots:!0,responsive:[{breakpoint:640,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}function t(){$(".mobile-menu-trigger").on("click",function(){$(this).toggleClass("open"),$(".m_header .nav").toggleClass("open")})}function n(){$(".m_header nav li").on("click",function(){$(this).find(".dropdown").length&&($(this).toggleClass("open"),$(this).find(".dropdown").toggleClass("open"))})}function r(){$(".full-carousel").slick({infinite:!0,slidesToShow:4,slidesToScroll:1,dots:!1,arrows:!0,swipeToSlide:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:568,settings:{slidesToShow:1}}]})}function a(){var e=$(".m_lead-section"),i=e.find(".line-1"),o=i.position().top,s=i.position().left,t=e.find(".line-2"),n=t.position().top,r=t.position().left,a=e.find(".ace"),l=a.position().top,c=a.position().left,d=e.width(),u=e.parent().height(),g=d/2,p=u/2;setTimeout(function(){e.on("mousemove",function(e){var d=e.pageY-p;i.css({top:o-d/4}),t.css({top:n-d/6}),a.css({top:l-d/10});var u=e.pageX-g;i.css({left:s-u/4}),t.css({left:r-u/6}),a.css({left:c-u/10})})},250)}function l(){$(".line-1, .line-2, .ace").css({top:"50%",left:"50%"}),$(".m_lead-section").unbind("mousemove")}function c(){$("html").hasClass("no-touchevents")&&$(window).width()>1024?(console.log("initParallax"),a(),$(window).resize(function(){l(),setTimeout(function(){a()},250)})):$(".m_lead-section").unbind("mousemove")}function d(){$(".mouse").click(function(){$("html, body").animate({scrollTop:$(".main").offset().top-60},1e3)})}function u(){$(".m_lead-services .item").mouseenter(function(){var e=$(this).index();$(".parallax-mirror").eq(e).addClass("hover")}).mouseleave(function(){$(".parallax-mirror").removeClass("hover")})}function g(){$(".no-touchevents .parallax-window-2").parallax({imageSrc:"images/services-right.jpg",naturalWidth:960,naturalHeight:600,speed:.2,zIndex:100}),$(".no-touchevents .parallax-window-1").parallax({imageSrc:"images/services-left.jpg",naturalWidth:960,naturalHeight:600,speed:.2,zIndex:100})}function p(){$(".m_personal-develop .tabs-nav .item a").on("click",function(){$(this).parent().parent().find(".item").removeClass("current"),$(this).parent().addClass("current");var e=$(this).parent().index();$(this).parent().parent().next().find(".item").removeClass("current"),$(this).parent().parent().next().find(".item").eq(e).addClass("current")})}function h(){$(".portfolio-carousel-single").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,fade:!0,infinite:!1,asNavFor:".portfolio-carousel-thumbs"}),$(".portfolio-carousel-thumbs").slick({slidesToShow:6,slidesToScroll:1,infinite:!1,asNavFor:".portfolio-carousel-single",dots:!1,arrows:!1,centerMode:!1,focusOnSelect:!0,swipeToSlide:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:1024,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:568,settings:{slidesToShow:2}}]})}function f(){$(".portfolio-all-projects").on("click",function(){$(".full-carousel").slick("unslick"),$(this).parent().fadeOut("300",function(){$(".portfolio-all-projects").parent().next().show(),r()})})}function m(){$(".portfolio-all-projects-nav a").on("click",function(){var e=$(this).data("sort");$(".full-carousel").slick("unslick"),$(".tags-carousels").show(),$(".portfolio-all-projects-nav").next().hide(),$(".tags-carousels .full-carousel").each(function(){$(this).data("sort")==e?($(this).show(),r()):$(this).hide()})})}$('a[href="#"]').click(function(e){e.preventDefault()}),e(),i(),o(),$("#map").length&&($(window).width()>769?ymaps.ready(function(){var e=new ymaps.Map("map",{center:[60.089186,30.310793],zoom:12,controls:[]},{searchControlProvider:"yandex#search"}),i=new ymaps.Placemark([60.016186,30.310793],{hintContent:"",balloonContent:""},{iconLayout:"default#image",iconImageHref:"../images/marker.png",iconImageSize:[80,97],iconImageOffset:[-40,-97]});e.geoObjects.add(i),e.behaviors.disable("scrollZoom")}):ymaps.ready(function(){var e=new ymaps.Map("map",{center:[60.119186,30.310793],zoom:12,controls:[]},{searchControlProvider:"yandex#search"}),i=new ymaps.Placemark([60.016186,30.310793],{hintContent:"",balloonContent:""},{iconLayout:"default#image",iconImageHref:"../images/marker.png",iconImageSize:[80,97],iconImageOffset:[-40,-97]});e.geoObjects.add(i),e.behaviors.disable("scrollZoom")})),s(),$(window).scroll(function(){var e=$(".m_header");$(this).scrollTop()>90?e.addClass("fixed"):e.removeClass("fixed")}),t(),n(),console.log("Layout generated"),r(),$(".m_lead-section").length&&($(window).load(c),$(window).resize(c)),d(),u(),g(),p(),h(),f(),m()});